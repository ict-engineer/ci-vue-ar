webpackJsonp([5],{"+lng":function(t,e){},"EH+b":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mvHQ"),i=s.n(a),o=s("9CG7"),l=s("mtWM"),n=s.n(l),c=window.jQuery,d={name:"app",beforeMount:function(){this.getbuilds()},mounted:function(){this.callTooltips()},data:function(){return{fileInfo:[function(t){return""},function(t){return""},function(t){return""}],file:"",uploadPercentage:0,projectCounter:!1,iconSource:"static/builds/noimage.jpg",uploadingObj:"",uploadStatus:"0",uploadFile:!1,viewType:"grid",pageInfo:"build",checkedModels:[],selectAll:!1,objectModels:[]}},components:{PanelHeader:o.a},methods:{handleFileUpload:function(){this.file=this.$refs.file.files[0]},getView:function(){return $cookies.get("view").replace(/(^\w{1})|(\s+\w{1})/g,function(t){return t.toUpperCase()})},reUploadBtn:function(){this.uploadFile=!1},onDrop:function(t){t.stopPropagation(),t.preventDefault();var e=t.dataTransfer.files;this.createFile(e[0])},onChange:function(t){var e=t.target.files;this.createFile(e[0])},createFile:function(t){this.uploadingObj=t,this.fileInfo.size=this.bytesToSize(t.size);if(![".glb",".gltf"].some(t.name.includes.bind(t.name)))return alert("file not supported!"),void console.log("No match using '"+t.name+"'");console.log("Match using '"+t.name+"'"),this.fileInfo.type="glb/gltf",this.uploadFile=!0,t.name.length>16?this.fileInfo.name=t.name.substring(0,16)+"...":this.fileInfo.name=t.name,this.SendFile()},SendFile:function(){var t=this,e={onUploadProgress:function(t){this.uploadPercentage=parseInt(Math.round(100*t.loaded/t.total))}.bind(this)};this.uploadStatus="0";var s=new FormData;s.append("userfile",this.uploadingObj),s.append("token",$cookies.get("user")),s.append("uuid",this.$route.query.appid);n.a.post("https://api.3drexar.com/Builds_Upload_Api/upload",s,e).then(function(e){200==e.status&&(t.uploadStatus="1",t.getbuilds())})},bytesToSize:function(t){if(0==t)return"0 Byte";var e=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,e),2)+" "+["Bytes","KB","MB","GB","TB"][e]},getbuilds:function(){var t=this;$cookies.get("view")?this.viewType=$cookies.get("view"):$cookies.set("view","grid"),null!=this.$route.query.appid?n.a.post("https://api.3drexar.com/Builds_Api/getbuilds",i()({token:$cookies.get("user"),uuid:this.$route.query.appid})).then(function(e){t.objectModels=e.data,t.noProject();var s=0;t.objectModels.forEach(function(e){""!=e.icon?e.icon="https://api.3drexar.com/"+e.icon:e.icon=t.iconSource,t.objectModels[s].checked=!1,s++}),console.log(t.objectModels)}):window.location="projects"},callTooltips:function(){c('[data-toggle="tooltip"]').tooltip()},setView:function(t){this.viewType=t,$cookies.set("view",t)},checkModel:function(){console.log(this.objectModels)},checkAll:function(){var t=this;this.checkedModels=[],this.selectAll=!this.selectAll,this.objectModels.forEach(function(e){e.checked=t.selectAll,e.checked&&t.checkedModels.push(e.modelname)}),this.noProject()},btnDuplicate:function(){var t=this;this.objectModels.forEach(function(e){e.checked&&n.a.post("https://api.3drexar.com/Builds_Api/duplicate",i()({token:$cookies.get("user"),uuid:t.$route.query.appid,id:e.id})).then(function(s){if(200==s.status){var a=JSON.parse(i()(e));a.id=s.data.id,a.modelname=s.data.name,a.checked=!1,t.objectModels.push(a)}})})},noProject:function(){0==this.objectModels.length?(console.log("Henüz Model Yok"),this.projectCounter=!0):this.projectCounter=!1},btnDelete:function(){var t=this;this.objectModels.forEach(function(e){e.checked&&n.a.post("https://api.3drexar.com/Builds_Api/remove",i()({token:$cookies.get("user"),uuid:t.$route.query.appid,id:e.id})).then(function(s){200==s.status&&(console.log(s.data),t.objectModels=t.objectModels.filter(function(t){return t.id!=e.id}))})}),this.noProject()}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("PanelHeader",{attrs:{pageinfo:t.pageInfo}}),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row mt-5"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"row"},[t._m(1),t._v(" "),s("div",{staticClass:"col"},[s("div",{staticClass:"mr-5 d-flex justify-content-end bd-highlight"},[s("div",{staticClass:"p-2 bd-highlight sizes handler",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"Duplicate"},on:{click:t.btnDuplicate}},[s("i",{staticClass:"bi-files",staticStyle:{"font-size":"20px"}})]),t._v(" "),s("div",{staticClass:"p-2 bd-highlight sizes handler",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"Delete"},on:{click:t.btnDelete}},[s("i",{staticClass:"bi-trash",staticStyle:{"font-size":"20px"}})]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4)])])])])])]),t._v(" "),s("div",{staticClass:"container-fluid row"},[s("div",{staticClass:"col d-flex justify-content-end"},[s("div",{staticClass:"dropdown p-2"},[s("button",{staticClass:"btn btn-outline dropdown-toggle text-white",attrs:{type:"button",id:"viewMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n        View : "+t._s(t.getView())+"\n        ")]),t._v(" "),s("div",{staticClass:"dropdown-menu bg-dark",attrs:{"aria-labelledby":"viewMenu"}},[s("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.setView("grid")}}},[t._v("\n            Grid View\n          ")]),t._v(" "),s("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.setView("list")}}},[t._v("\n            List View\n          ")])])])])]),t._v(" "),"list"==t.viewType&&0==t.projectCounter?s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-10 col-lg-offset-4 centered"},[s("table",{staticClass:"shadow table-borderless table table-hover"},[s("thead",[s("tr",{},[s("th",{attrs:{scope:"col"}},[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"chk0"},on:{change:t.checkAll}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"chk0"}})])]),t._v(" "),s("th",{attrs:{scope:"col"}}),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Created")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Updated")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Embed")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Type")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Status")])])]),t._v(" "),s("tbody",t._l(t.objectModels,function(e){return s("tr",{key:e.id,staticClass:"make-it-slow"},[s("td",[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedModels,expression:"checkedModels"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:e.id},domProps:{value:e.modelname,checked:Array.isArray(t.checkedModels)?t._i(t.checkedModels,e.modelname)>-1:t.checkedModels},on:{change:function(s){var a=t.checkedModels,i=s.target,o=!!i.checked;if(Array.isArray(a)){var l=e.modelname,n=t._i(a,l);i.checked?n<0&&(t.checkedModels=a.concat([l])):n>-1&&(t.checkedModels=a.slice(0,n).concat(a.slice(n+1)))}else t.checkedModels=o}}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:e.id}})])]),t._v(" "),t._m(5,!0),t._v(" "),s("td",[t._v(t._s(e.modelname))]),t._v(" "),s("td",[t._v(t._s(e.create_at))]),t._v(" "),s("td",[t._v(t._s(e.updated_at))]),t._v(" "),s("td",{attrs:{type:"button"}},[t._v("Copy")]),t._v(" "),s("td",[t._v(t._s(e.type))]),t._v(" "),s("td",[t._v(t._s(e.status))]),t._v(" "),s("td",[s("div",{staticClass:"col"},[s("router-link",{staticClass:"btn btn-outline-info",staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:{query:{appid:e.uuid,id:e.id},name:"viewer",params:{data:e.id,pageInfo:"build",isBuild:!0}}}},[t._v("\n                              Preview\n                             ")])],1)]),t._v(" "),s("td",[t._m(6,!0),t._v(" "),s("div",{staticClass:"dropdown-menu bg-dark",attrs:{"aria-labelledby":"editMenu"}},[t._m(7,!0),t._v(" "),s("button",{staticClass:"dropdown-item bg-outline-dark hearth",attrs:{type:"button"},on:{click:t.btnDuplicate}},[s("i",{staticClass:"bi bi-files handler"}),t._v("\n                    Duplicate\n                  ")]),t._v(" "),t._m(8,!0)])])])}),0)])])])]):t._e(),t._v(" "),"grid"==t.viewType?s("div",{staticClass:"row container-fluid"},t._l(t.objectModels,function(e){return s("div",{key:e.id,staticClass:"col-md-4 mt-4 noselect"},[s("div",{staticClass:"\n                card\n                rounded-bottom\n                border border-1 border-grey\n                Regular shadow\n                shadow bg-dark rounded\n              "},[s("div",{staticClass:"content",attrs:{id:"projectContent"}},[s("div",{staticClass:"content-overlay"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"object.checked"}],staticClass:"selectProject",attrs:{type:"checkbox",id:"selectProject"},domProps:{value:"pid"+e.id,checked:Array.isArray(e.checked)?t._i(e.checked,"pid"+e.id)>-1:e.checked},on:{change:function(s){var a=e.checked,i=s.target,o=!!i.checked;if(Array.isArray(a)){var l="pid"+e.id,n=t._i(a,l);i.checked?n<0&&t.$set(e,"checked",a.concat([l])):n>-1&&t.$set(e,"checked",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(e,"checked",o)}}}),t._v(" "),s("img",{staticStyle:{"object-fit":"cover",width:"100%",height:"210px"},attrs:{src:e.icon}}),t._v(" "),s("div",{staticClass:"content-details fadeIn-bottom"},[s("p",{staticClass:"content-text"},[s("button",{staticClass:"btn btn-outline-secondary  ml-3 rounded-lg viewprojectBtn"},[s("router-link",{staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:{query:{appid:e.uuid,id:e.id},name:"viewer",params:{data:e.id,pageInfo:"build",isBuild:!0}}}},[t._v("\n                              Preview\n                             ")])],1),s("br"),t._v(" "),s("button",{staticClass:"btn btn-outline-secondary  ml-3 mt-1 rounded-lg viewprojectBtn"},[t._v("\n                              Edit   \n                        ")])]),t._v(" "),t._m(9,!0)])]),t._v(" "),s("div",{staticClass:"card-body p-2"},[s("p",{staticClass:"card-text text-center"},[t._v(t._s(e.modelname))])])])])}),0):t._e(),t._v(" "),1==t.projectCounter?s("div",{staticClass:"container"},[t._m(10)]):t._e(),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"uploadModel",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(11),t._v(" "),s("div",{staticClass:"modal-body bg-dark"},[t.uploadFile?s("div",[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("table",{staticClass:"table-dark",staticStyle:{width:"100%"}},[s("table",{staticClass:"table"},[t._m(14),t._v(" "),s("tbody",[s("tr",[s("td",[t._v(t._s(t.fileInfo.name))]),t._v(" "),s("td",[t._v(t._s(t.fileInfo.size))]),t._v(" "),s("td",[t._v(t._s(t.fileInfo.type))]),t._v(" "),"0"==t.uploadStatus?s("td",[s("div",{staticClass:"spinner-grow text-muted spinner-grow-sm"}),s("small",[t._v("  "),s("label",{staticClass:" text-success",attrs:{value:t.uploadPercentage}},[t._v("%"+t._s(this.uploadPercentage.toLocaleString()))]),t._v("  Uploading..")])]):t._e(),t._v(" "),"1"==t.uploadStatus?s("td",[s("div",{staticClass:"fa fa-check text-success"}),s("small",[t._v("  Uploaded")])]):t._e()])])])])])])]):s("div",[t._m(12),t._v(" "),s("div",{staticClass:"box has-advanced-upload",on:{dragover:function(t){t.preventDefault()},drop:t.onDrop}},[s("div",{staticClass:"box__input"},[s("i",{staticClass:"fa fa-upload box__icon text-center",staticStyle:{"font-size":"100px"},attrs:{"aria-hidden":"true"}}),t._v(" "),s("input",{staticClass:"box__file",attrs:{type:"file",name:"files[]",id:"file","data-multiple-caption":"{count} files selected",multiple:""},on:{change:t.onChange}}),t._v(" "),t._m(13)])])])]),t._v(" "),s("div",{staticClass:"modal-footer bg-dark"},[1==t.uploadFile?s("button",{staticClass:"btn btn-success",on:{click:t.reUploadBtn}},[t._v(" \n              Re Upload\n            ")]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n                Close\n              ")])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row container"},[e("div",{staticClass:"col mt-3 ml-3"},[e("p",{staticClass:"h5"},[this._v("All Models")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col md-4 pl-5"},[e("button",{staticClass:"btn btn-outline-info",attrs:{"data-toggle":"modal","data-target":"#uploadModel"}},[this._v("İmport 3D Model")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-2 bd-highlight sizes handler",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"Upload Models"}},[e("i",{staticClass:"bi-cloud-upload",staticStyle:{"font-size":"20px"},attrs:{"data-toggle":"modal","data-target":"#uploadModel"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-2 bd-highlight sizes handler",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"Add/Edit Tags"}},[e("i",{staticClass:"bi-tags",staticStyle:{"font-size":"20px"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-2 bd-highlight sizes handler",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"Get Embed Codes"}},[e("i",{staticClass:"bi-code-square",staticStyle:{"font-size":"20px"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("img",{staticClass:"circular make-it-fast",attrs:{src:"/static/builds/picture.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-outline dropdown text-white",attrs:{type:"button",id:"editMenu","data-toggle":"dropdown"}},[e("i",{staticClass:"bi bi-three-dots-vertical handler"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"dropdown-item bg-outline-dark hearth",attrs:{type:"button"}},[e("i",{staticClass:"bi bi-pen handler"}),this._v(" Edit \n                  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"dropdown-item bg-outline-dark hearth",attrs:{type:"button"}},[e("i",{staticClass:"bi bi-tags handler"}),this._v(" Add/Edit\n                    Tags\n                  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("small",[this._v("Last Edit:"),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm"}),this._v(" "),e("div",{staticClass:"col-sm shadow  bg-dark rounded"},[e("div",{staticClass:"col"},[e("div",{staticClass:"text-center"},[e("i",{staticClass:"fa fa-cube small fa-3x amber-text text-center mt-3",attrs:{"aria-hidden":"true"}})])]),this._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"text-center"},[e("p",[e("small",[this._v("You Haven't Uploaded Any Models Yet.")])])])]),this._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"text-center"},[e("p",[e("small",[this._v("Please from the import model button. Get started by uploading a glb/gltf file.")])])])])]),this._v(" "),e("div",{staticClass:"col-sm"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header bg-dark"},[e("h5",{staticClass:"modal-title"},[this._v("Upload Model")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",[this._v("Files must be in glb or gltf format. ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticStyle:{"margin-left":"20%"},attrs:{for:"file"}},[e("strong",{staticClass:"hoverable"},[this._v("Choose a file")]),e("span",{staticClass:"box__dragndrop"},[this._v(" or drag it here")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("File Name")]),this._v(" "),e("th",[this._v("File Size")]),this._v(" "),e("th",[this._v("Type")]),this._v(" "),e("th",[this._v("Status")])])])}]};var u=s("VU/8")(d,r,!1,function(t){s("+lng")},"data-v-40f5cc28",null);e.default=u.exports}});
//# sourceMappingURL=5.4b5847764330eeb2ad28.js.map